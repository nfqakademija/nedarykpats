{% extends 'base.html.twig' %}

{% block title %} Workchase {% endblock %}

{% block ads %}
    <section class="Ads">
        {% for advert in filteredAdverts %}
        <section class="Ad u-visibility-parent">
            <header >
                <div > {{ advert.createdAt|date("Y-m-d") }}</div>
                <div class="Bid">
                    <span class="Bid-header">Aplikavo</span>
                    <span class="Bid-count">34</span>
                </div>
            </header>
            <h3 >{{ advert.title }}</h3>
            <div>
                <div>
                    <p>{{ advert.text }}</p>
                </div>
                <div class="u-align-center u-visibility-flex-child">
                    <a class="Button u-margin-top-bottom" href="/advert/{{ advert.id }}">Plaƒçiau</a>
                </div>
            </div>
            <footer >
               <ul >
                   {% for advertCategory in advert.categories  %}
                       <li class="Category {{ advertCategory.cssStyle }}">{{ advertCategory.title }}</li>
                   {% endfor %}
               </ul>
            </footer>
        </section>
        {% endfor %}
    </section>


    {% if paginationPages > 1 %}
    <section>
        <ul class="Pagination u-align-center">
            {% if page > 1 %}
            <li><a href="?filter={{ selectedCategorySlugs|join(',') }}&page= {{ page - 1 }}" class="Pagination-item Pagination-prev">&laquo</a></li>
            {% endif %}

            {% for i in 1..paginationPages %}
            <li><a href="?filter={{ selectedCategorySlugs|join(',') }}&page= {{ i }}" class="Pagination-item  {{ page == i? "is-active" }} "> {{ i }}  </a></li>
            {% endfor %}
            <li><a href="?filter={{ selectedCategorySlugs|join(',') }}&page= {{ page + 1 }}" class="Pagination-item Pagination-next">&raquo;</a></li>
        </ul><br>
    </section>
    {% endif %}
    {% endblock %}

{% block filter %}
    <section>
        <ul class="FilterBar">
            {% for category in availableCategories %}
            <li>
                <a class="Category Category--filter {{ category.cssStyle }} {% if category.slug not in selectedCategorySlugs %}not-active{% endif %}"
                   href="?filter={{ toggleQueryStrings[category.slug] }}">
                    <span class="Filter-title">{{ category.title }}</span>
                    <span class="Filter-icon">
                        {% if category.slug not in selectedCategorySlugs %}
                            <i class="fas fa-check"></i>
                        {% else %}
                            <i class="fas fa-times"></i>
                        {% endif %}
                    </span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </section>
{% endblock %}
